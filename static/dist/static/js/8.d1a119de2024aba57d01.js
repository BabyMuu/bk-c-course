(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{142:function(t,e,i){"use strict";i.r(e);var n=i(143);var s=i.n(n);for(var a in n)if(a!=="default")(function(t){i.d(e,t,function(){return n[t]})})(a);e["default"]=s.a},143:function(t,e,i){"use strict";var n=i(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var s=n(i(15));var a=n(i(16));var o=n(i(148));var r=n(i(149));var u=n(i(150));var l=n(i(151));var d=n(i(152));var p=n(i(178));var c={components:{QuestionRadio:o.default,QuestionMulti:r.default,QuestionJudge:u.default,QuestionShort:l.default,QuestionFill:d.default,QuestionTitleManage:p.default},data:function t(){return{previewsetting:{visible:false,position:{top:25}},Dict:{SINGLE:"QuestionRadio",MULTIPLE:"QuestionMulti",COMPLETION:"QuestionFill",JUDGE:"QuestionJudge",SHORT_ANSWER:"QuestionShort"},editQuestion:{visable:false,Question:null},papertree:[{name:"试卷",title:"试卷",flag:0,expanded:true,openedIcon:"icon-folder-open",closedIcon:"icon-folder",id:0,children:[]}],questionlist:[],existlist:[],dragSort:true,dialogsetting:{visible:false,position:{top:100}},sidesliderSettings:{isShow:false,title:"大题信息"},pagination:{current:1,count:undefined,limit:15},questionparameter:{questiontype:undefined,score:0},append:{questiontitle:undefined},paperquestiontype:[],paperquestiontypeMap:{},typeFilters:[{text:"单选题",value:"单选题"},{text:"多选题",value:"多选题"},{text:"填空题",value:"填空题"},{text:"判断题",value:"判断题"},{text:"简答题",value:"简答题"}],statusFilters:[{text:"未录入",value:"未录入"},{text:"已录入",value:"已录入"}],titilevalue:undefined,firstrow:undefined,popbutton:true,moveoutbutton:true,isdiabled:true,loadingbutton:false,questionTitleList:[]}},computed:{CourseId:function t(){return this.$store.state.currentCourseId}},watch:{firstrow:{handler:function t(){if(this.firstrow==="未录入"){this.popbutton=false;this.moveoutbutton=true}if(this.firstrow==="已录入"){this.popbutton=true;this.moveoutbutton=false}if(this.firstrow===undefined){this.popbutton=true;this.moveoutbutton=true}}},CourseId:{handler:function t(){this.$router.push({name:"displaypaper"})}}},created:function t(){this.getquestiontitle()},methods:{clicknode:function t(e){this.editQuestion.Question=e.dialogdata;this.editQuestion.visable=true},handleRowClick:function t(e,i,n,s,a){this.editQuestion.Question=e;this.editQuestion.visable=true},tpl:function t(e,i){var n=this;var s=this.$createElement;var a="node-title";if(e.flag===1){return s("span",[s("span",{class:"delete-button",on:{click:function t(){return n.deltitlenode(e)}}},["-"]),s("span",{class:a,domProps:{innerHTML:e.title},on:{click:function t(){return n.clicknode(e)}}})])}if(e.flag===0){return s("span",[s("span",{class:"add-button",on:{click:function t(){return n.addtitlenode()}}},["+"]),s("span",{class:a,domProps:{innerHTML:e.title}})])}},deltitlenode:function t(e){var i=this;if(e.children===undefined){this.delquestion(e.id);this.$refs.tree.delNode(e.parent,e)}else{if(e.children.length>2){this.$bkInfo({type:"warning",title:"确认要删除？",confirmFn:function t(){var i=this;e.children.forEach(function(t){i.delquestion(t.id)});this.$refs.tree.delNode(e.parent,e)},cancelFn:function t(){e.expanded=true}})}else{e.children.forEach(function(t){i.delquestion(t.id)});this.$refs.tree.delNode(e.parent,e)}}},delquestion:function t(e){var i=this;return(0,a.default)(s.default.mark(function t(){var n;return s.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:a.t0=s.default.keys(i.questionlist);case 1:if((a.t1=a.t0()).done){a.next=8;break}n=a.t1.value;if(!(e===i.questionlist[n].QuestionId)){a.next=6;break}i.questionlist[n].status="未录入";return a.abrupt("break",8);case 6:a.next=1;break;case 8:case"end":return a.stop()}}},t)}))()},addtitlenode:function t(){this.dialogsetting.visible=true},confirmtitle:function t(){var e={val:""};for(var i in this.paperquestiontype){if(this.titilevalue===this.paperquestiontype[i].id){e.val=this.paperquestiontype[i].name;break}}this.papertree[0].children.push({name:e.val,title:e.val,flag:1,openedIcon:"icon-folder-open",closedIcon:"icon-folder",expanded:true,id:-this.titilevalue,Id:this.titilevalue,children:[]});this.titilevalue=undefined;this.papertree[0].expanded=true},judge:function t(){var e={value:0};for(var i in this.Selections){if(this.Selections[0].status!==this.Selections[i].status){e.value=1;break}}if(e.value===1){this.$refs.table.clearSelection();this.Selections=undefined;this.$bkMessage({message:"所选择题目状态不相同，已自动取消选择",theme:"warning"})}},selectEnable:function t(e,i){if(this.firstrow!==undefined){if(e.status!==this.firstrow){return false}else{return true}}else{return true}},clearFilter:function t(){this.$refs.table.clearFilter()},typeFilterMethod:function t(e,i,n){var s=n.property;return i[s]===e},statusFilterMethod:function t(e,i,n){var s=n.property;return i[s]===e},handleSelectionChange:function t(e){this.Selections=e;if(this.Selections.length>0){this.firstrow=this.Selections[0].status}else{this.firstrow=undefined}this.judge()},popquestion:function t(){var e={value:0};if(this.Selections.length>0){if(this.questionparameter.questiontype===undefined){this.$bkInfo({type:"warning",title:"请先选择所属题型"});e.value=1}else if(this.questionparameter.score===0){this.$bkInfo({type:"warning",title:"请设置分数"});e.value=1}}else{this.$bkInfo({type:"warning",title:"请先选择题目"})}if(e.value===0){this.confirmquestion()}},moveout:function t(){var e={value:0};for(var i in this.Selections){e.value=0;for(var n in this.papertree[0].children){for(var s in this.papertree[0].children[n].children){if(this.papertree[0].children[n].children[s].id===this.Selections[i].QuestionId){this.papertree[0].children[n].children.splice(s,1);this.Selections[i].status="未录入";e.value=1;break}}if(e.value===1){break}}}this.firstrow=undefined;this.$refs.table.clearSelection()},confirmquestion:function t(){for(var e in this.papertree[0].children){if(this.questionparameter.questiontype===this.papertree[0].children[e].name){for(var i in this.Selections){this.Selections[i].status="已录入";if(this.Selections[i].question.length>14){var n=this.Selections[i].question.substr(0,13)+"...";this.papertree[0].children[e].children.push({id:this.Selections[i].QuestionId,title:n,name:this.Selections[i].question,flag:1,icon:"icon-file",score:this.questionparameter.score,dialogdata:{explain:this.Selections[i].explain,option_A:this.Selections[i].option_A,option_B:this.Selections[i].option_B,option_C:this.Selections[i].option_C,option_D:this.Selections[i].option_D,option_E:this.Selections[i].option_E,answer:this.Selections[i].answer,types:this.Selections[i].types,question:this.Selections[i].question}})}else{this.papertree[0].children[e].children.push({id:this.Selections[i].QuestionId,title:this.Selections[i].question,name:this.Selections[i].question,flag:1,icon:"icon-file",score:this.questionparameter.score,dialogdata:{explain:this.Selections[i].explain,option_A:this.Selections[i].option_A,option_B:this.Selections[i].option_B,option_C:this.Selections[i].option_C,option_D:this.Selections[i].option_D,option_E:this.Selections[i].option_E,answer:this.Selections[i].answer,types:this.Selections[i].types,question:this.Selections[i].question}})}}this.firstrow=undefined;this.$refs.table.clearSelection()}}},modifiytype:function t(){this.sidesliderSettings.isShow=true},tableRowStyle:function t(e){var i=e.row,n=e.rowIndex;if(i.status==="已录入"){var s={"background-color":"#E1ECFF"};return s}},savepaper:function t(){var e=this;return(0,a.default)(s.default.mark(function t(){var i,n,a,o,r,u;return s.default.wrap(function t(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;e.loadingbutton=true;s.next=4;return new Promise(function(t){setTimeout(function(){t("成功")},1500)});case 4:i=[];for(n in e.papertree[0].children){a=[];o=[];r={};for(u in e.papertree[0].children[n].children){a.push(e.papertree[0].children[n].children[u].id);o.push(e.papertree[0].children[n].children[u].score)}e.$set(r,e.papertree[0].children[n].Id,[a,o]);i.push(r)}e.updatepaper(i);e.loadingbutton=false;return s.abrupt("return",true);case 11:s.prev=11;s.t0=s["catch"](0);return s.abrupt("return",false);case 14:case"end":return s.stop()}}},t,null,[[0,11]])}))()},getquetionlist:function t(){var e=this;return(0,a.default)(s.default.mark(function t(){return s.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:e.$http.get("/course/get_question_list/",{params:{course_id:e.CourseId,chapter_id:e.$route.query.chapterid}}).then(function(t){e.questionlist=[];if(t.data.length!==0){var i={SINGLE:"单选题",MULTIPLE:"多选题",JUDGE:"判断题",COMPLETION:"填空题",SHORT_ANSWER:"简答题"};for(var n in t.data){if(e.existlist.indexOf(t.data[n].question_id)===-1){e.questionlist.push({explain:t.data[n].explain,option_A:t.data[n].option_A,option_B:t.data[n].option_B,option_C:t.data[n].option_C,option_D:t.data[n].option_D,option_E:t.data[n].option_E,answer:t.data[n].answer,types:t.data[n].types,question:t.data[n].question,QuestionId:t.data[n].question_id,type:i[t.data[n].types],status:"未录入"})}else{e.questionlist.push({explain:t.data[n].explain,option_A:t.data[n].option_A,option_B:t.data[n].option_B,option_C:t.data[n].option_C,option_D:t.data[n].option_D,option_E:t.data[n].option_E,answer:t.data[n].answer,types:t.data[n].types,QuestionId:t.data[n].question_id,question:t.data[n].question,type:i[t.data[n].types],status:"已录入"})}}}});case 1:case"end":return i.stop()}}},t)}))()},operateQuestionTitle:function t(e){var i=this;return(0,a.default)(s.default.mark(function t(){return s.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:i.$http.post("/course/question_title/",{course_id:i.$store.state.currentCourseId,custom_type_info:e}).then(function(t){if(t.result){i.$bkMessage({message:"修改成功！",theme:"success"})}else{i.$bkMessage({message:t.message,theme:"error"})}}).then(function(t){i.$http.get("/course/question_title/",{params:{course_id:i.CourseId}}).then(function(t){if(t.result===true){i.paperquestiontype=[];i.questionTitleList=[];for(var e in t.data.custom_types){i.$set(i.paperquestiontypeMap,t.data.custom_types[e].custom_type_name,t.data.custom_types[e].id);i.paperquestiontype.push({name:t.data.custom_types[e].custom_type_name,id:t.data.custom_types[e].id});i.questionTitleList.push({custom_type_name:t.data.custom_types[e].custom_type_name,custom_type_id:t.data.custom_types[e].id})}}}).then(function(t){i.papertree[0].children.forEach(function(t){i.paperquestiontype.forEach(function(e){if(t.Id===e.id&&t.name!==e.name){t.title=e.name;t.name=e.name}})})})});case 1:case"end":return n.stop()}}},t)}))()},getquestiontitle:function t(){var e=this;return(0,a.default)(s.default.mark(function t(){return s.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:e.$http.get("/course/question_title/",{params:{course_id:e.CourseId}}).then(function(t){if(t.result===true){e.paperquestiontype=[];e.questionTitleList=[];for(var i in t.data.custom_types){e.$set(e.paperquestiontypeMap,t.data.custom_types[i].custom_type_name,t.data.custom_types[i].id);e.paperquestiontype.push({name:t.data.custom_types[i].custom_type_name,id:t.data.custom_types[i].id});e.questionTitleList.push({custom_type_name:t.data.custom_types[i].custom_type_name,custom_type_id:t.data.custom_types[i].id})}}}).then(function(t){e.getpaperinfo()});case 1:case"end":return i.stop()}}},t)}))()},getpaperinfo:function t(){var e=this;return(0,a.default)(s.default.mark(function t(){return s.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:e.$http.get("/course/manage_paper_question_contact/",{params:{paper_id:e.$route.query.paperid}}).then(function(t){if(t.result===true){var i={val:0};e.existlist=[];e.papertree[0].id=e.$route.query.paperid;for(var n in t.data){var s=[];for(var a in t.data[n]){e.$set(e.existlist,i.val++,t.data[n][a].question_id);if(t.data[n][a].question.length>14){var o=t.data[n][a].question.substr(0,13)+"...";s.push({id:t.data[n][a].question_id,title:o,name:t.data[n][a].question,flag:1,icon:"icon-file",score:t.data[n][a].score,dialogdata:{explain:t.data[n][a].explain,option_A:t.data[n][a].option_A,option_B:t.data[n][a].option_B,option_C:t.data[n][a].option_C,option_D:t.data[n][a].option_D,option_E:t.data[n][a].option_E,answer:t.data[n][a].answer,types:t.data[n][a].types,question:t.data[n][a].question}})}else{s.push({id:t.data[n][a].question_id,title:t.data[n][a].question,name:t.data[n][a].question,flag:1,icon:"icon-file",score:t.data[n][a].score,dialogdata:{explain:t.data[n][a].explain,option_A:t.data[n][a].option_A,option_B:t.data[n][a].option_B,option_C:t.data[n][a].option_C,option_D:t.data[n][a].option_D,option_E:t.data[n][a].option_E,answer:t.data[n][a].answer,types:t.data[n][a].types,question:t.data[n][a].question}})}}e.papertree[0].children.push({name:n,title:n,openedIcon:"icon-folder-open",closedIcon:"icon-folder",expanded:true,flag:1,id:-e.paperquestiontypeMap[n],Id:e.paperquestiontypeMap[n],children:s})}}else{if(t.message==="卷子没有题目"){e.$bkMessage({message:t.message,theme:"warning"})}else{e.$bkMessage({message:t.message,theme:"error"})}}}).then(function(t){e.getquetionlist()});case 1:case"end":return i.stop()}}},t)}))()},updatepaper:function t(e){var i=this;return(0,a.default)(s.default.mark(function t(){return s.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:i.$http.post("/course/manage_paper_question_contact/",{paper_id:i.$route.query.paperid,paper_info:e}).then(function(t){if(t.result===true){i.$bkMessage({message:t.message,theme:"success"})}else{i.$bkMessage({message:t.message,theme:"error"})}});case 1:case"end":return n.stop()}}},t)}))()},updateQuestionTitle:function t(e,i){var n=this;if(i){this.operateQuestionTitle(e)}else{this.$http.get("/course/question_title/",{params:{course_id:this.CourseId}}).then(function(t){if(t.result===true){n.paperquestiontype=[];n.questionTitleList=[];for(var e in t.data.custom_types){n.$set(n.paperquestiontypeMap,t.data.custom_types[e].custom_type_name,t.data.custom_types[e].id);n.paperquestiontype.push({name:t.data.custom_types[e].custom_type_name,id:t.data.custom_types[e].id});n.questionTitleList.push({custom_type_name:t.data.custom_types[e].custom_type_name,custom_type_id:t.data.custom_types[e].id})}}})}}}};e.default=c},144:function(t,e,i){"use strict";i.r(e);var n=i(145);var s=i.n(n);for(var a in n)if(a!=="default")(function(t){i.d(e,t,function(){return n[t]})})(a);e["default"]=s.a},145:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={name:"QuestionTitleManage",props:{questiontitles:{type:Object,default:function t(){return{}}}},data:function t(){return{config:{message:null,theme:"error",offset:80},rules:{questionTitle:[{required:true,message:"大题不能为空！",trigger:"change"}]},show:false,editable:false,curRow:null,curChapter:null,changed:false,saved:false,append:{appendText:null,appendNumber:0},selection:[]}},computed:{questionTitleList:function t(){return JSON.parse(JSON.stringify(this.questiontitles))}},watch:{},created:function t(){},methods:{handleRowDbclick:function t(e,i,n,s,a){var o=this;if(!e.custom_type_id){e.custom_type_id="focus"}this.curRow=e.custom_type_id;this.curChapter=e.custom_type_name;this.editable=!this.editable;this.$nextTick(function(){o.$refs.myinput.focus()})},handleEnter:function t(e){if(e.custom_type_id==="focus"){e.custom_type_id=null}if(e.custom_type_name){this.editable=false}else{e.custom_type_name=this.curChapter;this.editable=false}},handleBlur:function t(e){if(e.custom_type_id==="focus"){e.custom_type_id=null}if(e.custom_type_name){this.editable=false}else{e.custom_type_name=this.curChapter;this.editable=false}},handleHidden:function t(){this.editable=false;this.$emit("updateQuestionTitle",this.questionTitleList,this.saved)},handleShown:function t(){},rowEditable:function t(e){return e===this.curRow&&this.editable},questionTitleManage:function t(){this.show=true},saveChange:function t(){this.saved=true;if(this.changed){this.$emit("updateQuestionTitle",this.questionTitleList,this.saved)}else{this.compare();if(this.changed){this.$emit("updateQuestionTitle",this.questionTitleList,this.saved)}else{this.config.theme="warning";this.config.message="未做修改";this.$bkMessage(this.config)}}this.saved=false;this.changed=false},appendChapter:function t(){var e=this;this.$refs.appendChapter.validate().then(function(t){e.questionTitleList.push({custom_type_id:null,custom_type_name:e.append.appendText});e.append.appendText=null;e.append.appendNumber=e.append.appendNumber+1},function(t){e.config.theme="error";e.config.message=t.content;e.$bkMessage(e.config)});this.$refs.appendInput.focus();this.changed=true},handleSelectChange:function t(e,i){this.selection=e},handleAppendBlur:function t(){},compare:function t(){for(var e=0;e<this.questionTitleList.length;e++){if(this.questionTitleList[e].custom_type_id!==this.questiontitles[e].custom_type_id||this.questionTitleList[e].custom_type_name!==this.questiontitles[e].custom_type_name){this.changed=true}}}}};e.default=n},146:function(t,e,i){},147:function(t,e,i){},178:function(t,e,i){"use strict";i.r(e);var n=i(199);var s=i(144);for(var a in s)if(a!=="default")(function(t){i.d(e,t,function(){return s[t]})})(a);var o=i(179);var r=i(2);var u=Object(r["a"])(s["default"],n["a"],n["b"],false,null,"53c50433",null);e["default"]=u.exports},179:function(t,e,i){"use strict";var n=i(146);var s=i.n(n);var a=s.a},180:function(t,e,i){"use strict";var n=i(147);var s=i.n(n);var a=s.a},191:function(t,e,i){"use strict";var n=function(){var t=this;var e=t.$createElement;var i=t._self._c||e;return i("div",{staticStyle:{display:"flex"},attrs:{id:"my"}},[i("bk-dialog",{attrs:{width:"1200",draggable:false,"show-footer":false},model:{value:t.editQuestion.visable,callback:function(e){t.$set(t.editQuestion,"visable",e)},expression:"editQuestion.visable"}},[t.editQuestion.visable?i(t.Dict[t.editQuestion.Question.types],{tag:"component",attrs:{info:t.editQuestion.Question,editable:true,readonly:true},on:{updateQuestion:t.updateQuestion}}):t._e()],1),t._v(" "),i("bk-dialog",{attrs:{width:"720",position:t.previewsetting.position,title:"试卷预览"},model:{value:t.previewsetting.visible,callback:function(e){t.$set(t.previewsetting,"visible",e)},expression:"previewsetting.visible"}},t._l(t.papertree[0].children,function(e){return i("div",{key:e.name},[i("h3",[t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(e,n){return i("bk-card",{key:n,staticClass:"radio-common",attrs:{title:n+1+"."+e.dialogdata.question+" （"+e.score+"分）",border:false}},[e.dialogdata.types==="SINGLE"?i("bk-radio-group",{staticClass:"radio-common"},[i("bk-radio",{attrs:{value:"A",disabled:true}},[t._v("\n                        A："+t._s(e.dialogdata.option_A)+"\n                    ")]),t._v(" "),i("bk-radio",{attrs:{value:"B",disabled:true}},[t._v("\n                        B："+t._s(e.dialogdata.option_B)+"\n                    ")]),t._v(" "),i("bk-radio",{attrs:{value:"C",disabled:true}},[t._v("\n                        C："+t._s(e.dialogdata.option_C)+"\n                    ")]),t._v(" "),i("bk-radio",{attrs:{value:"D",disabled:true}},[t._v("\n                        D："+t._s(e.dialogdata.option_D)+"\n                    ")])],1):t._e(),t._v(" "),e.dialogdata.types==="MULTIPLE"?i("bk-radio-group",{staticClass:"radio-common"},[i("bk-radio",{attrs:{value:"A",disabled:true}},[t._v("\n                        A："+t._s(e.dialogdata.option_A)+"\n                    ")]),t._v(" "),i("bk-radio",{attrs:{value:"B",disabled:true}},[t._v("\n                        B："+t._s(e.dialogdata.option_B)+"\n                    ")]),t._v(" "),i("bk-radio",{attrs:{value:"C",disabled:true}},[t._v("\n                        C："+t._s(e.dialogdata.option_C)+"\n                    ")]),t._v(" "),i("bk-radio",{attrs:{value:"D",disabled:true}},[t._v("\n                        D："+t._s(e.dialogdata.option_D)+"\n                    ")]),t._v(" "),i("bk-radio",{attrs:{value:"E",disabled:true}},[t._v("\n                        E："+t._s(e.dialogdata.option_E)+"\n                    ")])],1):t._e()],1)})],2)}),0),t._v(" "),i("bk-dialog",{attrs:{width:"300",position:t.dialogsetting.position,title:"添加大题"},on:{confirm:t.confirmtitle},model:{value:t.dialogsetting.visible,callback:function(e){t.$set(t.dialogsetting,"visible",e)},expression:"dialogsetting.visible"}},[i("bk-select",{staticStyle:{width:"250px"},attrs:{disabled:false,"ext-cls":"select-custom","ext-popover-cls":"select-popover-custom",searchable:""},model:{value:t.titilevalue,callback:function(e){t.titilevalue=e},expression:"titilevalue"}},t._l(t.paperquestiontype,function(t){return i("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})}),1)],1),t._v(" "),i("div",{staticClass:"left"},[i("div",[i("span",{staticStyle:{display:"inline-block"}},[t._v("所属大题：")]),t._v(" "),i("bk-select",{staticClass:"type-select",staticStyle:{width:"200px",display:"inline-block"},attrs:{searchable:""},model:{value:t.questionparameter.questiontype,callback:function(e){t.$set(t.questionparameter,"questiontype",e)},expression:"questionparameter.questiontype"}},t._l(t.papertree[0].children,function(t){return i("bk-option",{key:t.id,attrs:{id:t.name,name:t.name}})}),1),t._v(" "),i("span",{staticStyle:{display:"inline-block"}},[t._v("请设置分数：")]),t._v(" "),i("bk-input",{staticStyle:{width:"200px"},attrs:{type:"number",max:100,min:0,precision:t.precision},model:{value:t.questionparameter.score,callback:function(e){t.$set(t.questionparameter,"score",e)},expression:"questionparameter.score"}}),t._v(" "),i("bk-button",{attrs:{theme:"primary",disabled:t.popbutton},on:{click:t.popquestion}},[t._v("录入卷子")]),t._v(" "),i("bk-button",{attrs:{theme:"primary",disabled:t.moveoutbutton},on:{click:t.moveout}},[t._v("移出卷子")])],1),t._v(" "),i("bk-table",{ref:"table",staticStyle:{width:"800px"},attrs:{height:480,data:t.questionlist,"row-class-name":t.tableRowClassName,"row-style":t.tableRowStyle},on:{"row-click":t.handleRowClick,"selection-change":t.handleSelectionChange}},[i("bk-table-column",{attrs:{selectable:t.selectEnable,type:"selection",width:"30"}}),t._v(" "),i("bk-table-column",{attrs:{label:"题目",prop:"question"}}),t._v(" "),i("bk-table-column",{attrs:{filters:t.typeFilters,"filter-method":t.typeFilterMethod,label:"题目类型",prop:"type"}}),t._v(" "),i("bk-table-column",{attrs:{filters:t.statusFilters,"filter-method":t.statusFilterMethod,label:"状态",prop:"status"}})],1)],1),t._v(" "),i("div",[i("div",{staticClass:"right-top"},[i("question-title-manage",{attrs:{questiontitles:t.questionTitleList},on:{updateQuestionTitle:t.updateQuestionTitle}})],1),t._v(" "),i("div",{staticClass:"right-bottom"},[i("bk-tree",{ref:"tree",attrs:{data:t.papertree,"node-key":"id",draggable:true,"drag-sort":t.dragSort,"has-border":true,tpl:t.tpl},on:{"on-click":t.clicknode}}),t._v(" "),i("bk-button",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{theme:"primary"},on:{click:function(e){t.previewsetting.visible=true}}},[t._v("预览试卷")]),t._v(" "),i("bk-button",{attrs:{theme:"primary",loading:t.loadingbutton},on:{click:t.savepaper}},[t._v("保存试卷")])],1)])],1)};var s=[];i.d(e,"a",function(){return n});i.d(e,"b",function(){return s})},199:function(t,e,i){"use strict";var n=function(){var t=this;var e=t.$createElement;var i=t._self._c||e;return i("div",{staticStyle:{display:"inline-block"}},[i("bk-button",{staticStyle:{"margin-left":"5px","margin-bottom":"21px","border-style":"double"},attrs:{theme:"primary",title:"主要按钮",icon:"icon-block-shape"},on:{click:t.questionTitleManage}},[t._v("\n        大题管理\n    ")]),t._v(" "),i("bk-sideslider",{attrs:{"is-show":t.show,"quick-close":true},on:{"update:isShow":function(e){t.show=e},hidden:t.handleHidden,shown:t.handleShown}},[i("div",{attrs:{slot:"header"},slot:"header"},[t._v("大题管理")]),t._v(" "),i("div",{staticClass:"p20",attrs:{slot:"content"},slot:"content"},[i("bk-form",{ref:"appendChapter",attrs:{model:t.append,"label-width":0}},[i("div",{staticClass:"appendChapter"},[i("bk-form-item",{attrs:{required:true,rules:t.rules.questionTitle,property:"appendText","icon-offset":135}},[i("bk-input",{ref:"appendInput",staticStyle:{width:"70%"},attrs:{clearable:false},on:{blur:t.handleAppendBlur,enter:t.appendChapter},model:{value:t.append.appendText,callback:function(e){t.$set(t.append,"appendText",e)},expression:"append.appendText"}}),t._v(" "),i("bk-button",{staticClass:"mr10",staticStyle:{float:"right"},attrs:{theme:"primary",title:"主要按钮"},on:{click:t.appendChapter}},[t._v("\n                            新增大题\n                        ")])],1)],1)]),t._v(" "),i("div",{staticClass:"questionTitles"},[i("bk-table",{attrs:{data:t.questionTitleList,size:t.size,"outer-border":true,"virtual-render":false,"show-header":false,height:"480"},on:{"row-click":t.handleRowClick,"row-dblclick":t.handleRowDbclick,"selection-change":t.handleSelectChange}},[i("bk-table-column",{attrs:{label:"章节",prop:"custom_type_name",sortable:"",width:""},on:{"row-dblclick":t.handleRowDbclickChapter},scopedSlots:t._u([{key:"default",fn:function(e){return[!t.rowEditable(e.row.custom_type_id)?i("p",[t._v(t._s(e.row.custom_type_name))]):t._e(),t._v(" "),t.rowEditable(e.row.custom_type_id)?i("bk-input",{ref:"myinput",staticClass:"input1",on:{enter:function(i){t.handleEnter(e.row)},blur:function(i){t.handleBlur(e.row)}},model:{value:e.row.custom_type_name,callback:function(i){t.$set(e.row,"custom_type_name",i)},expression:"props.row.custom_type_name"}}):t._e()]}}])})],1)],1),t._v(" "),i("div",{staticClass:"saveChange"},[i("bk-button",{staticClass:"mr10",attrs:{theme:"primary",title:"主要按钮"},on:{click:t.saveChange}},[t._v("\n                    保存\n                ")])],1)],1)])],1)};var s=[];i.d(e,"a",function(){return n});i.d(e,"b",function(){return s})},85:function(t,e,i){"use strict";i.r(e);var n=i(191);var s=i(142);for(var a in s)if(a!=="default")(function(t){i.d(e,t,function(){return s[t]})})(a);var o=i(180);var r=i(2);var u=Object(r["a"])(s["default"],n["a"],n["b"],false,null,null,null);e["default"]=u.exports}}]);