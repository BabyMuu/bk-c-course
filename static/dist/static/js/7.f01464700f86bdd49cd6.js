(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{142:function(e,t,i){"use strict";i.r(t);var n=i(143);var s=i.n(n);for(var a in n)if(a!=="default")(function(e){i.d(t,e,function(){return n[e]})})(a);t["default"]=s.a},143:function(e,t,i){"use strict";var n=i(0);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(15));var a=n(i(16));var o=n(i(148));var r=n(i(149));var u=n(i(150));var l=n(i(151));var p=n(i(152));var d=n(i(178));var c=n(i(180));var f={components:{QuestionRadio:o.default,QuestionMulti:r.default,QuestionJudge:u.default,QuestionShort:l.default,QuestionFill:p.default,QuestionTitleManage:d.default},data:function e(){return{previewsetting:{visible:false,position:{top:25}},Dict:{SINGLE:"QuestionRadio",MULTIPLE:"QuestionMulti",COMPLETION:"QuestionFill",JUDGE:"QuestionJudge",SHORT_ANSWER:"QuestionShort"},editQuestion:{visable:false,Question:null},papertree:[{name:"试卷",title:"试卷",flag:0,expanded:true,openedIcon:"icon-folder-open",closedIcon:"icon-folder",id:0,Id:undefined,children:[]}],paperinit:[],questionlist:[],existlist:[],dragSort:true,dialogsetting:{visible:false,position:{top:100}},sidesliderSettings:{isShow:false,title:"大题信息"},questionparameter:{questiontype:undefined,score:0},append:{questiontitle:undefined},paperquestiontype:[],paperquestiontypeMap:{},typeFilters:[{text:"单选题",value:"单选题"},{text:"多选题",value:"多选题"},{text:"填空题",value:"填空题"},{text:"判断题",value:"判断题"},{text:"简答题",value:"简答题"}],statusFilters:[{text:"未录入",value:"未录入"},{text:"已录入",value:"已录入"}],titilevalue:undefined,firstrow:undefined,popbutton:true,moveoutbutton:true,isdiabled:true,loadingbutton:false,questionTitleList:[]}},computed:{CourseId:function e(){return this.$store.state.currentCourseId},saveble:function e(){return this.isModified(this.paperinit,this.papertree[0])}},watch:{firstrow:{handler:function e(){if(this.firstrow==="未录入"){this.popbutton=false;this.moveoutbutton=true}if(this.firstrow==="已录入"){this.popbutton=true;this.moveoutbutton=false}if(this.firstrow===undefined){this.popbutton=true;this.moveoutbutton=true}}},CourseId:{handler:function e(){this.$router.push({name:"displaypaper"})}}},created:function e(){var t=this;if(sessionStorage.getItem("paperinfo")){var i=JSON.parse(sessionStorage.getItem("paperinit"));var n=c.default.parse(sessionStorage.getItem("paperinfo"));this.paperinit=i;this.papertree=n;this.existlist=JSON.parse(sessionStorage.getItem("existlist"));this.getquestiontitle2();this.getquetionlist();sessionStorage.removeItem("paperinfo");sessionStorage.removeItem("existlist");sessionStorage.removeItem("paperinit")}else{this.getquestiontitle()}window.addEventListener("beforeunload",function(){sessionStorage.setItem("paperinfo",c.default.stringify(t.papertree));sessionStorage.setItem("existlist",JSON.stringify(t.existlist));sessionStorage.setItem("paperinit",JSON.stringify(t.paperinit))})},methods:{isModified:function e(t,i){var n={val:0};if(t.length!==i.children.length){n.val=1}else{for(var s=0;s<t.length;s++){if(t[s].Id!==i.children[s].Id){n.val=1;break}else{if(t[s].children.length!==i.children[s].children.length){n.val=1;break}else{for(var a=0;a<t[s].children.length;a++){if(t[s].children[a].id!==i.children[s].children[a].id){n.val=1;break}}}}}}if(n.val===1){return true}else{return false}},clicknode:function e(t){if(!t.children){this.editQuestion.Question=t.dialogdata;this.editQuestion.visable=true}},handleRowClick:function e(t,i,n,s,a){this.editQuestion.Question=t;this.editQuestion.visable=true},tpl:function e(t,i){var n=this;var s=this.$createElement;var a="node-title";if(t.flag===1){return s("span",[s("span",{class:"delete-button",on:{click:function e(){return n.deltitlenode(t)}}},["-"]),s("span",{class:a,domProps:{innerHTML:t.title},on:{click:function e(){return n.clicknode(t)}}})])}if(t.flag===0){return s("span",[s("span",{class:"add-button",on:{click:function e(){return n.addtitlenode()}}},["+"]),s("span",{class:a,domProps:{innerHTML:t.title}})])}},deltitlenode:function e(t){var i=this;if(t.children===undefined){this.delquestion(t.id);this.$refs.tree.delNode(t.parent,t)}else{if(t.children.length>2){var n=this;this.$bkInfo({type:"warning",title:"确认要删除？",confirmFn:function e(){t.children.forEach(function(e){n.delquestion(e.id)});n.$refs.tree.delNode(t.parent,t)},cancelFn:function e(){t.expanded=true}})}else{t.children.forEach(function(e){i.delquestion(e.id)});this.$refs.tree.delNode(t.parent,t)}}},delquestion:function e(t){var i=this;return(0,a.default)(s.default.mark(function e(){var n;return s.default.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:a.t0=s.default.keys(i.questionlist);case 1:if((a.t1=a.t0()).done){a.next=9;break}n=a.t1.value;if(!(t===i.questionlist[n].QuestionId)){a.next=7;break}i.existlist.splice(i.existlist.indexOf(t),1);i.questionlist[n].status="未录入";return a.abrupt("break",9);case 7:a.next=1;break;case 9:case"end":return a.stop()}}},e)}))()},addtitlenode:function e(){this.dialogsetting.visible=true},confirmtitle:function e(){var t={val:""};for(var i in this.paperquestiontype){if(this.titilevalue===this.paperquestiontype[i].id){t.val=this.paperquestiontype[i].name;break}}this.papertree[0].children.push({name:t.val,title:t.val,flag:1,openedIcon:"icon-folder-open",closedIcon:"icon-folder",expanded:true,id:-this.titilevalue,Id:this.titilevalue,children:[]});this.titilevalue=undefined;this.papertree[0].expanded=true},judge:function e(){var t={value:0};for(var i in this.Selections){if(this.Selections[0].status!==this.Selections[i].status){t.value=1;break}}if(t.value===1){this.$refs.table.clearSelection();this.Selections=undefined;this.$bkMessage({message:"所选择题目状态不相同，已自动取消选择",theme:"warning"})}},selectEnable:function e(t,i){if(this.firstrow!==undefined){if(t.status!==this.firstrow){return false}else{return true}}else{return true}},clearFilter:function e(){this.$refs.table.clearFilter()},typeFilterMethod:function e(t,i,n){var s=n.property;return i[s]===t},statusFilterMethod:function e(t,i,n){var s=n.property;return i[s]===t},handleSelectionChange:function e(t){this.Selections=t;if(this.Selections.length>0){this.firstrow=this.Selections[0].status}else{this.firstrow=undefined}this.judge()},popquestion:function e(){var t={value:0};if(this.Selections.length>0){if(this.questionparameter.questiontype===undefined){this.$bkInfo({type:"warning",title:"请先选择所属题型"});t.value=1}else if(this.questionparameter.score===0){this.$bkInfo({type:"warning",title:"请设置分数"});t.value=1}}else{this.$bkInfo({type:"warning",title:"请先选择题目"})}if(t.value===0){this.confirmquestion()}},moveout:function e(){var t={value:0};for(var i in this.Selections){t.value=0;for(var n in this.papertree[0].children){for(var s in this.papertree[0].children[n].children){if(this.papertree[0].children[n].children[s].id===this.Selections[i].QuestionId){this.existlist.splice(this.existlist.indexOf(this.Selections[i].QuestionId),1);this.papertree[0].children[n].children.splice(s,1);this.Selections[i].status="未录入";t.value=1;break}}if(t.value===1){break}}}this.firstrow=undefined;this.$refs.table.clearSelection()},confirmquestion:function e(){for(var t in this.papertree[0].children){if(this.questionparameter.questiontype===this.papertree[0].children[t].name){for(var i in this.Selections){this.existlist.push(this.Selections[i].QuestionId);this.Selections[i].status="已录入";if(this.Selections[i].question.length>14){var n=this.Selections[i].question.substr(0,13)+"...";this.papertree[0].children[t].children.push({id:this.Selections[i].QuestionId,title:n,name:this.Selections[i].question,flag:1,icon:"icon-file",score:this.questionparameter.score,dialogdata:{explain:this.Selections[i].explain,option_A:this.Selections[i].option_A,option_B:this.Selections[i].option_B,option_C:this.Selections[i].option_C,option_D:this.Selections[i].option_D,option_E:this.Selections[i].option_E,answer:this.Selections[i].answer,types:this.Selections[i].types,question:this.Selections[i].question}})}else{this.papertree[0].children[t].children.push({id:this.Selections[i].QuestionId,title:this.Selections[i].question,name:this.Selections[i].question,flag:1,icon:"icon-file",score:this.questionparameter.score,dialogdata:{explain:this.Selections[i].explain,option_A:this.Selections[i].option_A,option_B:this.Selections[i].option_B,option_C:this.Selections[i].option_C,option_D:this.Selections[i].option_D,option_E:this.Selections[i].option_E,answer:this.Selections[i].answer,types:this.Selections[i].types,question:this.Selections[i].question}})}}this.firstrow=undefined;this.$refs.table.clearSelection()}}},modifiytype:function e(){this.sidesliderSettings.isShow=true},tableRowStyle:function e(t){var i=t.row,n=t.rowIndex;if(i.status==="已录入"){var s={"background-color":"#E1ECFF"};return s}},savepaper:function e(){var t=this;return(0,a.default)(s.default.mark(function e(){var i,n,a,o,r,u;return s.default.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;t.loadingbutton=true;s.next=4;return new Promise(function(e){setTimeout(function(){e("成功")},1200)});case 4:i=[];for(n in t.papertree[0].children){a=[];o=[];r={};for(u in t.papertree[0].children[n].children){a.push(t.papertree[0].children[n].children[u].id);o.push(t.papertree[0].children[n].children[u].score)}t.$set(r,t.papertree[0].children[n].Id,[a,o]);i.push(r)}t.updatepaper(i);t.loadingbutton=false;return s.abrupt("return",true);case 11:s.prev=11;s.t0=s["catch"](0);return s.abrupt("return",false);case 14:case"end":return s.stop()}}},e,null,[[0,11]])}))()},getquetionlist:function e(){var t=this;return(0,a.default)(s.default.mark(function e(){return s.default.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:t.$http.get("/course/get_question_list/",{params:{course_id:t.CourseId,chapter_id:t.$route.query.chapterid}}).then(function(e){t.questionlist=[];if(e.data.length!==0){var i={SINGLE:"单选题",MULTIPLE:"多选题",JUDGE:"判断题",COMPLETION:"填空题",SHORT_ANSWER:"简答题"};for(var n in e.data){if(t.existlist.indexOf(e.data[n].question_id)===-1){t.questionlist.push({explain:e.data[n].explain,option_A:e.data[n].option_A,option_B:e.data[n].option_B,option_C:e.data[n].option_C,option_D:e.data[n].option_D,option_E:e.data[n].option_E,answer:e.data[n].answer,types:e.data[n].types,question:e.data[n].question,QuestionId:e.data[n].question_id,type:i[e.data[n].types],status:"未录入"})}else{t.questionlist.push({explain:e.data[n].explain,option_A:e.data[n].option_A,option_B:e.data[n].option_B,option_C:e.data[n].option_C,option_D:e.data[n].option_D,option_E:e.data[n].option_E,answer:e.data[n].answer,types:e.data[n].types,QuestionId:e.data[n].question_id,question:e.data[n].question,type:i[e.data[n].types],status:"已录入"})}}}});case 1:case"end":return i.stop()}}},e)}))()},operateQuestionTitle:function e(t){var i=this;return(0,a.default)(s.default.mark(function e(){return s.default.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:i.$http.post("/course/question_title/",{course_id:i.$store.state.currentCourseId,custom_type_info:t}).then(function(e){if(e.result){i.$bkMessage({message:"修改成功！",theme:"success"})}else{i.$bkMessage({message:e.message,theme:"error"})}}).then(function(e){i.$http.get("/course/question_title/",{params:{course_id:i.CourseId}}).then(function(e){if(e.result===true){i.paperquestiontype=[];i.questionTitleList=[];for(var t in e.data.custom_types){i.$set(i.paperquestiontypeMap,e.data.custom_types[t].custom_type_name,e.data.custom_types[t].id);i.paperquestiontype.push({name:e.data.custom_types[t].custom_type_name,id:e.data.custom_types[t].id});i.questionTitleList.push({custom_type_name:e.data.custom_types[t].custom_type_name,custom_type_id:e.data.custom_types[t].id})}}}).then(function(e){i.papertree[0].children.forEach(function(e){i.paperquestiontype.forEach(function(t){if(e.Id===t.id&&e.name!==t.name){e.title=t.name;e.name=t.name}})})})});case 1:case"end":return n.stop()}}},e)}))()},getquestiontitle2:function e(){var t=this;return(0,a.default)(s.default.mark(function e(){return s.default.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:t.$http.get("/course/question_title/",{params:{course_id:t.CourseId}}).then(function(e){if(e.result===true){t.paperquestiontype=[];t.questionTitleList=[];for(var i in e.data.custom_types){t.$set(t.paperquestiontypeMap,e.data.custom_types[i].custom_type_name,e.data.custom_types[i].id);t.paperquestiontype.push({name:e.data.custom_types[i].custom_type_name,id:e.data.custom_types[i].id});t.questionTitleList.push({custom_type_name:e.data.custom_types[i].custom_type_name,custom_type_id:e.data.custom_types[i].id})}}});case 1:case"end":return i.stop()}}},e)}))()},getquestiontitle:function e(){var t=this;return(0,a.default)(s.default.mark(function e(){return s.default.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:t.$http.get("/course/question_title/",{params:{course_id:t.CourseId}}).then(function(e){if(e.result===true){t.paperquestiontype=[];t.questionTitleList=[];for(var i in e.data.custom_types){t.$set(t.paperquestiontypeMap,e.data.custom_types[i].custom_type_name,e.data.custom_types[i].id);t.paperquestiontype.push({name:e.data.custom_types[i].custom_type_name,id:e.data.custom_types[i].id});t.questionTitleList.push({custom_type_name:e.data.custom_types[i].custom_type_name,custom_type_id:e.data.custom_types[i].id})}}}).then(function(e){t.getpaperinfo()});case 1:case"end":return i.stop()}}},e)}))()},getpaperinfo:function e(){var t=this;return(0,a.default)(s.default.mark(function e(){return s.default.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:t.$http.get("/course/manage_paper_question_contact/",{params:{course_id:t.CourseId,paper_id:t.$route.query.paperid}}).then(function(e){t.existlist=[];t.papertree[0].children=[];t.paperinit=[];t.papertree[0].Id=t.$route.query.paperid;if(e.result===true){for(var i in e.data){var n=[];var s=[];for(var a in e.data[i]){t.existlist.push(e.data[i][a].question_id);s.push({id:e.data[i][a].question_id});if(e.data[i][a].question.length>14){var o=e.data[i][a].question.substr(0,13)+"...";n.push({id:e.data[i][a].question_id,title:o,name:e.data[i][a].question,flag:1,icon:"icon-file",score:e.data[i][a].score,dialogdata:{explain:e.data[i][a].explain,option_A:e.data[i][a].option_A,option_B:e.data[i][a].option_B,option_C:e.data[i][a].option_C,option_D:e.data[i][a].option_D,option_E:e.data[i][a].option_E,answer:e.data[i][a].answer,types:e.data[i][a].types,question:e.data[i][a].question}})}else{n.push({id:e.data[i][a].question_id,title:e.data[i][a].question,name:e.data[i][a].question,flag:1,icon:"icon-file",score:e.data[i][a].score,dialogdata:{explain:e.data[i][a].explain,option_A:e.data[i][a].option_A,option_B:e.data[i][a].option_B,option_C:e.data[i][a].option_C,option_D:e.data[i][a].option_D,option_E:e.data[i][a].option_E,answer:e.data[i][a].answer,types:e.data[i][a].types,question:e.data[i][a].question}})}}t.paperinit.push({Id:t.paperquestiontypeMap[i],children:s});t.papertree[0].children.push({name:i,title:i,openedIcon:"icon-folder-open",closedIcon:"icon-folder",expanded:true,flag:1,id:-t.paperquestiontypeMap[i],Id:t.paperquestiontypeMap[i],children:n})}}else{if(e.message==="卷子没有题目"){t.$bkMessage({message:e.message,theme:"warning"})}else{t.$bkMessage({message:e.message,theme:"error"})}}}).then(function(e){t.getquetionlist()});case 1:case"end":return i.stop()}}},e)}))()},updatepaper:function e(t){var i=this;return(0,a.default)(s.default.mark(function e(){return s.default.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:i.$http.post("/course/manage_paper_question_contact/",{course_id:i.CourseId,paper_id:i.$route.query.paperid,paper_info:t}).then(function(e){if(e.result===true){i.$bkMessage({message:e.message,theme:"success"});i.paperinit=[];i.papertree[0].children.forEach(function(e){var t=[];e.children.forEach(function(e){t.push({id:e.id})});i.paperinit.push({Id:e.Id,children:t})})}else{i.$bkMessage({message:e.message,theme:"error"})}});case 1:case"end":return n.stop()}}},e)}))()},updateQuestionTitle:function e(t,i){var n=this;if(i){this.operateQuestionTitle(t)}else{this.$http.get("/course/question_title/",{params:{course_id:this.CourseId}}).then(function(e){if(e.result===true){n.paperquestiontype=[];n.questionTitleList=[];for(var t in e.data.custom_types){n.$set(n.paperquestiontypeMap,e.data.custom_types[t].custom_type_name,e.data.custom_types[t].id);n.paperquestiontype.push({name:e.data.custom_types[t].custom_type_name,id:e.data.custom_types[t].id});n.questionTitleList.push({custom_type_name:e.data.custom_types[t].custom_type_name,custom_type_id:e.data.custom_types[t].id})}}})}}}};t.default=f},144:function(e,t,i){"use strict";i.r(t);var n=i(145);var s=i.n(n);for(var a in n)if(a!=="default")(function(e){i.d(t,e,function(){return n[e]})})(a);t["default"]=s.a},145:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n={name:"QuestionTitleManage",props:{questiontitles:{type:Object,default:function e(){return{}}}},data:function e(){return{config:{message:null,theme:"error",offset:80},rules:{questionTitle:[{required:true,message:"大题不能为空！",trigger:"change"}]},show:false,editable:false,curRow:null,curQuestionTitle:null,changed:false,saved:false,append:{appendText:null,appendNumber:0},selection:[]}},computed:{questionTitleList:function e(){return JSON.parse(JSON.stringify(this.questiontitles))}},watch:{},created:function e(){},methods:{handleRowDbclick:function e(t,i,n,s,a){var o=this;if(!t.custom_type_id){t.custom_type_id="focus"}this.curRow=t.custom_type_id;this.curQuestionTitle=t.custom_type_name;this.editable=!this.editable;this.$nextTick(function(){o.$refs.myinput.focus()})},handleEnter:function e(t){if(t.custom_type_id==="focus"){t.custom_type_id=null}this.editable=false},handleBlur:function e(t){if(t.custom_type_id==="focus"){t.custom_type_id=null}if(!t.custom_type_name||this.repeated(this.questionTitleList,"custom_type_name",t.custom_type_name)>1){t.custom_type_name=this.curQuestionTitle}this.editable=false},handleHidden:function e(){this.editable=false;this.$emit("updateQuestionTitle",this.questionTitleList,this.saved)},handleShown:function e(){},rowEditable:function e(t){return t===this.curRow&&this.editable},questionTitleManage:function e(){this.show=true},saveChange:function e(){this.saved=true;if(this.changed){this.$emit("updateQuestionTitle",this.questionTitleList,this.saved)}else{this.compare();if(this.changed){this.$emit("updateQuestionTitle",this.questionTitleList,this.saved)}else{this.config.theme="warning";this.config.message="未做修改";this.$bkMessage(this.config)}}this.saved=false;this.changed=false},appendQuestionTitle:function e(){var t=this;if(this.repeated(this.questionTitleList,"custom_type_name",this.append.appendText)>0){this.config.theme="warning";this.config.message="此大题已存在，不可重复添加";this.$bkMessage(this.config)}else{this.$refs.appendQuestionTitle.validate().then(function(e){t.questionTitleList.push({custom_type_id:null,custom_type_name:t.append.appendText});t.append.appendText=null;t.append.appendNumber=t.append.appendNumber+1},function(e){t.config.theme="error";t.config.message=e.content;t.$bkMessage(t.config)});this.$refs.appendInput.focus();this.changed=true}},handleSelectChange:function e(t,i){this.selection=t},handleAppendBlur:function e(){},compare:function e(){for(var t=0;t<this.questionTitleList.length;t++){if(this.questionTitleList[t].custom_type_id!==this.questiontitles[t].custom_type_id||this.questionTitleList[t].custom_type_name!==this.questiontitles[t].custom_type_name){this.changed=true}}},repeated:function e(t,i,n){var e=0;t.forEach(function(t){if(t[i]===n){e=e+1}});return e}}};t.default=n},146:function(e,t,i){},147:function(e,t,i){},178:function(e,t,i){"use strict";i.r(t);var n=i(200);var s=i(144);for(var a in s)if(a!=="default")(function(e){i.d(t,e,function(){return s[e]})})(a);var o=i(179);var r=i(2);var u=Object(r["a"])(s["default"],n["a"],n["b"],false,null,"1c4e20b5",null);t["default"]=u.exports},179:function(e,t,i){"use strict";var n=i(146);var s=i.n(n);var a=s.a},180:function(e,t){var i="~",n="\\x"+("0"+i.charCodeAt(0).toString(16)).slice(-2),s="\\"+n,a=new RegExp(n,"g"),o=new RegExp(s,"g"),r=new RegExp("(?:^|([^\\\\]))"+s),u=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},l=String;function p(e,t,o){var r=false,l=!!t,p=[],d=[e],c=[e],f=[o?i:"[Circular]"],h=e,_=1,m,v;if(l){v=typeof t==="object"?function(e,i){return e!==""&&t.indexOf(e)<0?void 0:i}:t}return function(e,t){if(l)t=v.call(this,e,t);if(r){if(h!==this){m=_-u.call(d,this)-1;_-=m;d.splice(_,d.length);p.splice(_-1,p.length);h=this}if(typeof t==="object"&&t){if(u.call(d,t)<0){d.push(h=t)}_=d.length;m=u.call(c,t);if(m<0){m=c.push(t)-1;if(o){p.push((""+e).replace(a,n));f[m]=i+p.join(i)}else{f[m]=f[0]}}else{t=f[m]}}else{if(typeof t==="string"&&o){t=t.replace(n,s).replace(i,n)}}}else{r=true}return t}}function d(e,t){for(var n=0,s=t.length;n<s;e=e[t[n++].replace(o,i)]);return e}function c(e){return function(t,a){var o=typeof a==="string";if(o&&a.charAt(0)===i){return new l(a.slice(1))}if(t==="")a=_(a,a,{});if(o)a=a.replace(r,"$1"+i).replace(s,n);return e?e.call(this,t,a):a}}function f(e,t,i){for(var n=0,s=t.length;n<s;n++){t[n]=_(e,t[n],i)}return t}function h(e,t,i){for(var n in t){if(t.hasOwnProperty(n)){t[n]=_(e,t[n],i)}}return t}function _(e,t,n){return t instanceof Array?f(e,t,n):t instanceof l?t.length?n.hasOwnProperty(t)?n[t]:n[t]=d(e,t.split(i)):e:t instanceof Object?h(e,t,n):t}var m={stringify:function e(t,i,n,s){return m.parser.stringify(t,p(t,i,!s),n)},parse:function e(t,i){return m.parser.parse(t,c(i))},parser:JSON};e.exports=m},181:function(e,t,i){"use strict";var n=i(147);var s=i.n(n);var a=s.a},192:function(e,t,i){"use strict";var n=function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("div",{staticStyle:{display:"flex"},attrs:{id:"my"}},[i("bk-dialog",{attrs:{width:"1200",draggable:false,"show-footer":false},model:{value:e.editQuestion.visable,callback:function(t){e.$set(e.editQuestion,"visable",t)},expression:"editQuestion.visable"}},[e.editQuestion.visable?i(e.Dict[e.editQuestion.Question.types],{tag:"component",attrs:{info:e.editQuestion.Question,editable:true,readonly:true},on:{updateQuestion:e.updateQuestion}}):e._e()],1),e._v(" "),i("bk-dialog",{attrs:{width:"720",position:e.previewsetting.position,title:"试卷预览"},model:{value:e.previewsetting.visible,callback:function(t){e.$set(e.previewsetting,"visible",t)},expression:"previewsetting.visible"}},e._l(e.papertree[0].children,function(t){return i("div",{key:t.name},[i("h3",[e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t,n){return i("bk-card",{key:n,staticClass:"radio-common",attrs:{title:n+1+"."+t.dialogdata.question+" （"+t.score+"分）",border:false}},[t.dialogdata.types==="SINGLE"?i("bk-radio-group",{staticClass:"radio-common"},[i("bk-radio",{attrs:{value:"A",disabled:true}},[e._v("\n                        A："+e._s(t.dialogdata.option_A)+"\n                    ")]),e._v(" "),i("bk-radio",{attrs:{value:"B",disabled:true}},[e._v("\n                        B："+e._s(t.dialogdata.option_B)+"\n                    ")]),e._v(" "),i("bk-radio",{attrs:{value:"C",disabled:true}},[e._v("\n                        C："+e._s(t.dialogdata.option_C)+"\n                    ")]),e._v(" "),i("bk-radio",{attrs:{value:"D",disabled:true}},[e._v("\n                        D："+e._s(t.dialogdata.option_D)+"\n                    ")])],1):e._e(),e._v(" "),t.dialogdata.types==="MULTIPLE"?i("bk-radio-group",{staticClass:"radio-common"},[i("bk-radio",{attrs:{value:"A",disabled:true}},[e._v("\n                        A："+e._s(t.dialogdata.option_A)+"\n                    ")]),e._v(" "),i("bk-radio",{attrs:{value:"B",disabled:true}},[e._v("\n                        B："+e._s(t.dialogdata.option_B)+"\n                    ")]),e._v(" "),i("bk-radio",{attrs:{value:"C",disabled:true}},[e._v("\n                        C："+e._s(t.dialogdata.option_C)+"\n                    ")]),e._v(" "),i("bk-radio",{attrs:{value:"D",disabled:true}},[e._v("\n                        D："+e._s(t.dialogdata.option_D)+"\n                    ")]),e._v(" "),i("bk-radio",{attrs:{value:"E",disabled:true}},[e._v("\n                        E："+e._s(t.dialogdata.option_E)+"\n                    ")])],1):e._e()],1)})],2)}),0),e._v(" "),i("bk-dialog",{attrs:{width:"300",position:e.dialogsetting.position,title:"添加大题"},on:{confirm:e.confirmtitle},model:{value:e.dialogsetting.visible,callback:function(t){e.$set(e.dialogsetting,"visible",t)},expression:"dialogsetting.visible"}},[i("bk-select",{staticStyle:{width:"250px"},attrs:{disabled:false,"ext-cls":"select-custom","ext-popover-cls":"select-popover-custom",searchable:""},model:{value:e.titilevalue,callback:function(t){e.titilevalue=t},expression:"titilevalue"}},e._l(e.paperquestiontype,function(e){return i("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})}),1)],1),e._v(" "),i("div",{staticClass:"left"},[i("div",[i("span",{staticStyle:{display:"inline-block"}},[e._v("所属大题：")]),e._v(" "),i("bk-select",{staticClass:"type-select",staticStyle:{width:"200px",display:"inline-block"},attrs:{searchable:""},model:{value:e.questionparameter.questiontype,callback:function(t){e.$set(e.questionparameter,"questiontype",t)},expression:"questionparameter.questiontype"}},e._l(e.papertree[0].children,function(e){return i("bk-option",{key:e.id,attrs:{id:e.name,name:e.name}})}),1),e._v(" "),i("span",{staticStyle:{display:"inline-block"}},[e._v("请设置分数：")]),e._v(" "),i("bk-input",{staticStyle:{width:"200px"},attrs:{type:"number",max:100,min:0,precision:e.precision},model:{value:e.questionparameter.score,callback:function(t){e.$set(e.questionparameter,"score",t)},expression:"questionparameter.score"}}),e._v(" "),i("bk-button",{attrs:{theme:"primary",disabled:e.popbutton},on:{click:e.popquestion}},[e._v("录入卷子")]),e._v(" "),i("bk-button",{attrs:{theme:"primary",disabled:e.moveoutbutton},on:{click:e.moveout}},[e._v("移出卷子")])],1),e._v(" "),i("bk-table",{ref:"table",staticStyle:{width:"800px"},attrs:{height:480,data:e.questionlist,"row-class-name":e.tableRowClassName,"row-style":e.tableRowStyle},on:{"row-click":e.handleRowClick,"selection-change":e.handleSelectionChange}},[i("bk-table-column",{attrs:{selectable:e.selectEnable,type:"selection",width:"30"}}),e._v(" "),i("bk-table-column",{attrs:{label:"题目",prop:"question"}}),e._v(" "),i("bk-table-column",{attrs:{filters:e.typeFilters,"filter-method":e.typeFilterMethod,label:"题目类型",prop:"type"}}),e._v(" "),i("bk-table-column",{attrs:{filters:e.statusFilters,"filter-method":e.statusFilterMethod,label:"状态",prop:"status"}})],1)],1),e._v(" "),i("div",[i("div",{staticClass:"right-top"},[i("question-title-manage",{attrs:{questiontitles:e.questionTitleList},on:{updateQuestionTitle:e.updateQuestionTitle}})],1),e._v(" "),i("div",{staticClass:"right-bottom"},[i("bk-tree",{ref:"tree",attrs:{data:e.papertree,"node-key":"id",draggable:true,"drag-sort":e.dragSort,"has-border":true,tpl:e.tpl},on:{"on-click":e.clicknode}}),e._v(" "),i("bk-button",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{theme:"primary"},on:{click:function(t){e.previewsetting.visible=true}}},[e._v("预览试卷")]),e._v(" "),i("bk-button",{attrs:{theme:"primary",disabled:!e.saveble,loading:e.loadingbutton},on:{click:e.savepaper}},[e._v("保存试卷")])],1)])],1)};var s=[];i.d(t,"a",function(){return n});i.d(t,"b",function(){return s})},200:function(e,t,i){"use strict";var n=function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("div",{staticStyle:{display:"inline-block"}},[i("bk-button",{staticStyle:{"margin-left":"5px","margin-bottom":"21px","border-style":"double"},attrs:{theme:"primary",title:"主要按钮",icon:"icon-block-shape"},on:{click:e.questionTitleManage}},[e._v("\n        大题管理\n    ")]),e._v(" "),i("bk-sideslider",{attrs:{"is-show":e.show,"quick-close":true},on:{"update:isShow":function(t){e.show=t},hidden:e.handleHidden,shown:e.handleShown}},[i("div",{attrs:{slot:"header"},slot:"header"},[e._v("大题管理")]),e._v(" "),i("div",{staticClass:"p20",attrs:{slot:"content"},slot:"content"},[i("bk-form",{ref:"appendQuestionTitle",attrs:{model:e.append,"label-width":0}},[i("div",{staticClass:"appendQuestionTitle"},[i("bk-form-item",{attrs:{required:true,rules:e.rules.questionTitle,property:"appendText","icon-offset":135}},[i("bk-input",{ref:"appendInput",staticStyle:{width:"70%"},attrs:{clearable:false},on:{blur:e.handleAppendBlur,enter:e.appendQuestionTitle},model:{value:e.append.appendText,callback:function(t){e.$set(e.append,"appendText",t)},expression:"append.appendText"}}),e._v(" "),i("bk-button",{staticClass:"mr10",staticStyle:{float:"right"},attrs:{theme:"primary",title:"主要按钮"},on:{click:e.appendQuestionTitle}},[e._v("\n                            新增大题\n                        ")])],1)],1)]),e._v(" "),i("div",{staticClass:"questionTitles"},[i("bk-table",{attrs:{data:e.questionTitleList,size:e.size,"outer-border":true,"virtual-render":false,"show-header":false,height:"480"},on:{"row-click":e.handleRowClick,"row-dblclick":e.handleRowDbclick,"selection-change":e.handleSelectChange}},[i("bk-table-column",{attrs:{label:"章节",prop:"custom_type_name",sortable:"",width:""},on:{"row-dblclick":e.handleRowDbclickQuestionTitle},scopedSlots:e._u([{key:"default",fn:function(t){return[!e.rowEditable(t.row.custom_type_id)?i("p",[e._v(e._s(t.row.custom_type_name))]):e._e(),e._v(" "),e.rowEditable(t.row.custom_type_id)?i("bk-input",{ref:"myinput",staticClass:"input1",on:{enter:function(i){e.handleEnter(t.row)},blur:function(i){e.handleBlur(t.row)}},model:{value:t.row.custom_type_name,callback:function(i){e.$set(t.row,"custom_type_name",i)},expression:"props.row.custom_type_name"}}):e._e()]}}])})],1)],1),e._v(" "),i("div",{staticClass:"saveChange"},[i("bk-button",{staticClass:"mr10",attrs:{theme:"primary",title:"主要按钮"},on:{click:e.saveChange}},[e._v("\n                    保存\n                ")])],1)],1)])],1)};var s=[];i.d(t,"a",function(){return n});i.d(t,"b",function(){return s})},85:function(e,t,i){"use strict";i.r(t);var n=i(192);var s=i(142);for(var a in s)if(a!=="default")(function(e){i.d(t,e,function(){return s[e]})})(a);var o=i(181);var r=i(2);var u=Object(r["a"])(s["default"],n["a"],n["b"],false,null,null,null);t["default"]=u.exports}}]);